import requests
from collections import Counter
import re

# 英語のテキストデータを取得
response = requests.get('https://www.gutenberg.org/files/2600/2600-0.txt')
text = response.text

# テキストから単語を抽出
words = re.findall(r'\b\w+\b', text.lower())

# 単語の出現頻度をカウント
word_counts = Counter(words)

# 上位500語を取得
top_500_words = [word for word, count in word_counts.most_common(500)]

# 結果を表示
print(top_500_words)

# 結果
words = ['the', 'and', 'â', 'to', 'of', 'a', 'he', 'in', 'his', 'that', 'was', 'with', 'had', 'it', 'her', 'not', 's', 'him', 'at', 'i', 'but', 'as', 'on', 'you', 'for', 'she', 'is', 'said', 'all', 'from', 'by', 'be', 'were', 'what', 'they', 'who', 'this', 'one', 'which', 'have', 'so', 'prince', 'pierre', 'an', 'or', 'up', 'them', 'when', 'did', 'been', 'there', 'their', 'no', 'would', 'now', 'if', 'only', 'are', 'me', 'out', 'my', 'natã', 't', 'sha', 'could', 'will', 'man', 'more', 'do', 'andrew', 'about', 'himself', 'into', 'how', 'we', 'then', 'time', 'face', 'princess', 'french', 'went', 'some', 'after', 'know', 'old', 'before', 'your', 'eyes', 'very', 'room', 'thought', 'men', 'go', 'like', 'well', 'chapter', 'see', 'began', 'rostã³v', 'has', 'again', 'moscow', 'down', 'came', 'come', 'still', 'without', 'asked', 'same', 'those', 'count', 'looked', 'army', 'say', 'first', 'felt', 'our', 'where', 'away', 'mary', 'left', 'another', 'something', 'over', 'such', 'nicholas', 'two', 'these', 'life', 'other', 'seemed', 'its', 'just', 'head', 'yes', 'little', 'am', 'day', 'long', 'why', 'than', 'hand', 'whole', 'donâ', 'people', 'should', 'emperor', 'back', 'even', 'any', 'own', 'heard', 'good', 'having', 'way', 'because', 'general', 'must', 'can', 'here', 'look', 'napoleon', 'nothing', 'pã', 'always', 'being', 'saw', 'made', 'though', 'russian', 'love', 'right', 'countess', 'kutãºzov', 'young', 'denã', 'round', 'suddenly', 'off', 'voice', 'us', 'smile', 'looking', 'moment', 'itâ', 'knew', 'sã³nya', 'everything', 'officer', 'told', 'never', 'whom', 'while', 'took', 'much', 'words', 'house', 'too', 'turned', 'dear', 'll', 'through', 'let', 'iâ', 'sov', 'quite', 'tell', 'under', 'get', 'think', 'once', 'take', 'evidently', 'battle', 'understand', 'last', 'yet', 'sat', 'father', 'every', 'soldiers', 'most', 'door', 'herself', 'already', 'feeling', 'going', 'oh', 'might', 'behind', 'place', 'stood', 'gave', 'thatâ', 'replied', 'done', 'expression', 'others', 'side', 'war', 'order', 'borã', 'anna', 'anything', 'toward', 'position', 'may', 'new', 'seen', 'horse', 'commander', 'dã³lokhov', 'give', 'make', 'three', 'put', 'also', 'god', 'front', 'ran', 'vasã', 'both', 'troops', 'great', 'hands', 'soon', 'talk', 'want', 'shall', 'tya', 'n', 'called', 'wife', 'shouted', 'taken', 'petersburg', 'between', 'alone', 'chief', 'horses', 'part', 'many', 'whether', 'mã', 'word', 'saying', 'things', 'son', 'letter', 'along', 'sent', 'mind', 'thing', 'during', 'against', 'rode', 'table', 'found', 'sitting', 'regiment', 'everyone', 'entered', 'officers', 'night', 'question', 'among', 'youâ', 'moved', 'li', 'continued', 'evening', 'speak', 'drawing', 'de', 'brought', 'cried', 'crowd', 'leave', 'does', 'added', 'anatole', 'wounded', 'morning', 'near', 'enemy', 'received', 'taking', 'mother', 'really', 'got', 'road', 'power', 'orders', 'themselves', 'ask', 'understood', 'lay', 'white', 'canâ', 'fire', 'happy', 'stopped', 'next', 'action', 'passed', 'wished', 'talking', 'rose', 'several', 'tried', 'since', 'ah', 'movement', 'fellow', 'soldier', 'wish', 'lã', 'beside', 'days', 'end', 'each', 'anyone', 'small', 'turning', 'death', 'wanted', 'remained', 're', 'given', 'noticed', 'nor', 'longer', 'arm', 'arms', 'pierreâ', 'impossible', 'heart', 'till', 'far', 'past', 'woman', 'around', 'forward', 'thousand', 'large', 'seeing', 'few', 'news', 'became', 'home', 'possible', 'dinner', 'full', 'matter', 'spoke', 'cannot', 'hã', 'set', 'happened', 'work', 'half', 'tears', 'ready', 'silent', 'better', 'conversation', 'trying', 'coming', 'russia', 've', 'friend', 'find', 'gone', 'sound', 'world', 'strange', 'bolkã³nski', 'adjutant', 'standing', 'itself', 'almost', 'speaking', 'faces', 'free', 'met', 'terrible', 'history', 'honor', 'fact', 'answered', 'v', 'hair', 'light', 'glanced', 'times', 'soul', 'else', 'ne', 'smiled', 'kept', 'known', 'tone', 'reply', 'myself', 'returned', 'afraid', 'cause', 'above', 'ever', 'smiling', 'village', 'state', 'repeated', 'reached', 'different', 'help', 'russians', 'wonâ', 'voices', 'field', 'answer', 'less', 'mademoiselle', 'kind', 'held', 'doing', 'hear', 'often', 'brother', 'especially', 'lost', 'together', 'cold', 'self', 'women', 'heâ', 'certain', 'quickly', 'necessary', 'steps', 'alpã', 'followed', 'listened', 'red', 'please', 'tych', 'family', 'used', 'husband', 'twenty', 'staff', 'mikhã', 'air', 'bagratiã³n', 'force', 'feel', 'sides', 'read', 'sometimes', 'black']

word_string = ""
for word in words:
    word_string += f" {word}"

print(word_string)

# 結果
input_text = "the and â to of a he in his that was with had it her not s him at i but as on you for she is said all from by be were what they who this one which have so prince pierre an or up them when did been there their no would now if only are me out my natã t sha could will man more do andrew about himself into how we then time face princess french went some after know old before your eyes very room thought men go like well chapter see began rostã³v has again moscow down came come still without asked same those count looked army say first felt our where away mary left another something over such nicholas two these life other seemed its just head yes little am day long why than hand whole donâ people should emperor back even any own heard good having way because general must can here look napoleon nothing pã always being saw made though russian love right countess kutãºzov young denã round suddenly off voice us smile looking moment itâ knew sã³nya everything officer told never whom while took much words house too turned dear ll through let iâ sov quite tell under get think once take evidently battle understand last yet sat father every soldiers most door herself already feeling going oh might behind place stood gave thatâ replied done expression others side war order borã anna anything toward position may new seen horse commander dã³lokhov give make three put also god front ran vasã both troops great hands soon talk want shall tya n called wife shouted taken petersburg between alone chief horses part many whether mã word saying things son letter along sent mind thing during against rode table found sitting regiment everyone entered officers night question among youâ moved li continued evening speak drawing de brought cried crowd leave does added anatole wounded morning near enemy received taking mother really got road power orders themselves ask understood lay white canâ fire happy stopped next action passed wished talking rose several tried since ah movement fellow soldier wish lã beside days end each anyone small turning death wanted remained re given noticed nor longer arm arms pierreâ impossible heart till far past woman around forward thousand large seeing few news became home possible dinner full matter spoke cannot hã set happened work half tears ready silent better conversation trying coming russia ve friend find gone sound world strange bolkã³nski adjutant standing itself almost speaking faces free met terrible history honor fact answered v hair light glanced times soul else ne smiled kept known tone reply myself returned afraid cause above ever smiling village state repeated reached different help russians wonâ voices field answer less mademoiselle kind held doing hear often brother especially lost together cold self women heâ certain quickly necessary steps alpã followed listened red please tych family used husband twenty staff mikhã air bagratiã³n force feel sides read sometimes black"